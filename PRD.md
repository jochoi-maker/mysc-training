# Product Requirements Document (PRD)
# MYSC 교육 신청 시스템

## 1. 제품 개요

### 1.1 프로젝트 명
MYSC 교육 신청 시스템 (MYSC Training Registration System)

### 1.2 목적
조직 구성원들이 일자별로 제한된 정원 내에서 교육 신청을 할 수 있는 웹 기반 시스템 구축

### 1.3 주요 이해관계자
- **최종 사용자**: MYSC 조직 구성원 (교육 신청자)
- **관리자**: 교육 담당자 및 시스템 관리자
- **개발팀**: 시스템 개발 및 유지보수 담당

### 1.4 핵심 가치
- 간편한 교육 신청 프로세스
- 실시간 정원 관리 및 현황 확인
- 중복 신청 방지 및 데이터 무결성 보장
- 모바일 반응형 디자인

## 2. 기능 요구사항

### 2.1 사용자 기능

#### 2.1.1 교육 신청 기능
**우선순위**: P0 (필수)

**상세 요구사항**:
- 사용자는 이름을 입력하여 신청 자격을 확인할 수 있어야 함
- 사전 등록된 명단에 있는 사용자만 신청 가능
- 여러 교육 일자 중 하나를 선택하여 신청
- 각 날짜별 실시간 잔여 정원 확인 가능
- 신청 완료 시 성공 메시지 표시

**제약사항**:
- 각 사용자는 하나의 날짜에만 신청 가능
- 정원이 마감된 날짜는 선택 불가
- 신청 마감일 이후에는 신청 불가

#### 2.1.2 신청 변경 기능
**우선순위**: P1 (중요)

**상세 요구사항**:
- 이미 신청한 사용자는 다른 날짜로 변경 가능
- 변경 시 기존 날짜의 신청은 자동 취소
- 변경하려는 날짜의 정원이 있는 경우에만 변경 가능

#### 2.1.3 신청 현황 조회
**우선순위**: P1 (중요)

**상세 요구사항**:
- 날짜별 신청 인원 및 잔여 정원 실시간 표시
- 정원 대비 신청률을 시각적으로 표현 (Progress Bar)
- 각 날짜별 신청자 명단 확인 가능 (익명 처리)

#### 2.1.4 D-Day 카운트다운
**우선순위**: P2 (선택)

**상세 요구사항**:
- 신청 마감일까지 남은 시간을 실시간으로 표시
- 일/시간/분/초 단위로 카운트다운
- 마감 시 자동으로 신청 폼 비활성화

### 2.2 관리자 기능

#### 2.2.1 관리자 인증
**우선순위**: P0 (필수)

**상세 요구사항**:
- 비밀번호를 통한 관리자 페이지 접근
- 세션 기반 인증 유지 (30분 자동 로그아웃)
- 로그아웃 기능 제공

#### 2.2.2 신청 데이터 관리
**우선순위**: P0 (필수)

**상세 요구사항**:
- 전체 신청 현황 대시보드
- 날짜별 신청자 명단 조회
- 신청 데이터 수정/삭제 기능
- Excel 형식으로 데이터 내보내기

#### 2.2.3 설정 관리
**우선순위**: P1 (중요)

**상세 요구사항**:
- 신청 마감일 설정
- 날짜별 정원 수정
- 교육 시간 정보 수정
- 사전 등록 명단 관리

### 2.3 시스템 기능

#### 2.3.1 데이터 동기화
**우선순위**: P0 (필수)

**상세 요구사항**:
- Google Sheets와 실시간 데이터 동기화
- 신청/변경/삭제 시 즉시 시트에 반영
- 주기적인 데이터 정합성 검증

#### 2.3.2 중복 신청 방지
**우선순위**: P0 (필수)

**상세 요구사항**:
- 동일 사용자의 중복 신청 자동 차단
- 동시 신청 시 race condition 방지
- 트랜잭션 기반 데이터 처리

## 3. 비기능 요구사항

### 3.1 성능 요구사항
- 페이지 로딩 시간: 3초 이내
- API 응답 시간: 2초 이내
- 동시 접속자: 최소 100명 지원
- 데이터 처리: 1,000건의 신청 데이터 처리 가능

### 3.2 보안 요구사항
- HTTPS 프로토콜 사용
- 환경 변수를 통한 API 키 관리
- XSS, CSRF 공격 방지
- SQL Injection 방지 (해당 없음 - NoSQL)
- 관리자 비밀번호 암호화 저장

### 3.3 사용성 요구사항
- 반응형 웹 디자인 (모바일, 태블릿, 데스크톱)
- 직관적인 UI/UX
- 명확한 에러 메시지 제공
- 접근성 고려 (WCAG 2.1 Level AA 준수)

### 3.4 호환성 요구사항
- 브라우저: Chrome, Safari, Firefox, Edge 최신 버전
- 모바일: iOS 12+, Android 8+
- 화면 해상도: 320px ~ 1920px

## 4. 기술 스택

### 4.1 프론트엔드
- **프레임워크**: Next.js 15.2.4
- **UI 라이브러리**: React 19
- **컴포넌트**: shadcn/ui
- **스타일링**: Tailwind CSS
- **폼 관리**: react-hook-form
- **유효성 검증**: Zod
- **상태 관리**: React Hooks (useState, useEffect)

### 4.2 백엔드
- **서버**: Next.js App Router & Server Actions
- **데이터베이스**: Google Sheets (API v4)
- **인증**: Google Service Account

### 4.3 배포 및 인프라
- **호스팅**: Vercel
- **도메인**: Vercel 제공 도메인 또는 커스텀 도메인
- **환경 변수**: Vercel Environment Variables
- **모니터링**: Vercel Analytics

## 5. 데이터 구조

### 5.1 Google Sheets 구조

#### Members 시트 (구성원 명단)
| 열 | 필드명 | 타입 | 설명 |
|---|--------|------|------|
| A | 이름 | String | 구성원 이름 |
| B | 신청날짜 | String | 선택한 교육 날짜 ID |
| C | 신청시간 | Timestamp | 신청 시각 |

#### Settings 시트 (시스템 설정)
| 열 | 필드명 | 타입 | 설명 |
|---|--------|------|------|
| A | 설정키 | String | 설정 항목 식별자 |
| B | 설정값 | String | 설정 값 |

주요 설정 항목:
- applicationDeadline: 신청 마감일
- trainingTime: 교육 시간

#### Training Dates 시트 (교육 일정)
| 열 | 필드명 | 타입 | 설명 |
|---|--------|------|------|
| A | 날짜 ID | String | 날짜 식별자 (예: aug20) |
| B | 날짜 | Date | 실제 날짜 (2025-08-20) |
| C | 레이블 | String | 표시용 텍스트 |
| D | 최대정원 | Number | 해당 날짜 최대 수용 인원 |

### 5.2 프론트엔드 데이터 모델

```typescript
interface Registration {
  id: string
  name: string
  date: string
  timestamp?: number
}

interface TrainingDate {
  id: string
  date: string
  label: string
  capacity: number
}

interface DateStatus {
  ...TrainingDate
  count: number
  available: number
  percentage: number
}
```

## 6. UI/UX 디자인

### 6.1 페이지 구성

#### 6.1.1 메인 페이지 (/)
- 헤더: 로고, 제목, 관리자 링크
- 신청 마감 카운트다운
- 교육 정보 카드
- 신청 폼
  - 이름 입력 필드
  - 날짜 선택 (Radio Group)
  - 신청 버튼
- 신청 현황 섹션
  - 날짜별 신청 현황 카드
  - Progress Bar 및 인원 표시

#### 6.1.2 관리자 페이지 (/admin)
- 인증 화면 (로그인 전)
- 대시보드 (로그인 후)
  - 전체 신청 현황 요약
  - 날짜별 신청자 테이블
  - 데이터 관리 도구

### 6.2 디자인 시스템

#### 색상 팔레트
- Primary: Blue (#0066cc)
- Secondary: Gray (#6b7280)
- Success: Green (#10b981)
- Error: Red (#ef4444)
- Warning: Yellow (#f59e0b)
- Background: White/Gray (#ffffff, #f9fafb)

#### 컴포넌트 스타일
- 카드: 둥근 모서리, 그림자 효과
- 버튼: 호버 효과, 로딩 상태 표시
- 폼: 명확한 레이블, 에러 메시지
- 뱃지: 상태별 색상 구분

## 7. 사용자 시나리오

### 7.1 정상 신청 플로우
1. 사용자가 메인 페이지 접속
2. 이름 입력
3. 시스템이 등록 명단 확인
4. 교육 날짜 선택
5. 신청 버튼 클릭
6. 시스템이 정원 확인 및 중복 체크
7. Google Sheets에 데이터 저장
8. 성공 메시지 표시
9. 신청 현황 자동 업데이트

### 7.2 신청 변경 플로우
1. 기존 신청자가 페이지 접속
2. 이름 입력
3. 다른 날짜 선택
4. 신청 버튼 클릭
5. 시스템이 기존 신청 확인
6. 새 날짜로 업데이트
7. 변경 완료 메시지 표시

### 7.3 에러 처리 시나리오
- **미등록 사용자**: "등록되지 않은 이름입니다" 메시지
- **정원 초과**: "선택한 날짜의 정원이 마감되었습니다" 메시지
- **마감일 경과**: "신청 기간이 종료되었습니다" 메시지
- **네트워크 오류**: "일시적인 오류가 발생했습니다" 메시지

## 8. 테스트 계획

### 8.1 단위 테스트
- 날짜별 정원 체크 로직
- 중복 신청 방지 로직
- 데이터 유효성 검증

### 8.2 통합 테스트
- Google Sheets API 연동
- Server Actions 동작
- 데이터 동기화

### 8.3 E2E 테스트
- 전체 신청 플로우
- 관리자 기능
- 에러 처리

### 8.4 성능 테스트
- 동시 접속 부하 테스트
- API 응답 시간 측정
- 페이지 로딩 속도

## 9. 배포 계획

### 9.1 개발 환경
- Local development (npm run dev)
- 환경 변수: .env.local

### 9.2 스테이징 환경
- Vercel Preview Deployment
- PR 단위 자동 배포

### 9.3 프로덕션 환경
- Vercel Production Deployment
- 도메인: mysc-education.vercel.app
- 환경 변수: Vercel Dashboard에서 관리

## 10. 유지보수 및 운영

### 10.1 모니터링
- Vercel Analytics를 통한 사용량 모니터링
- Google Sheets 데이터 정기 백업
- 에러 로그 수집 및 분석

### 10.2 정기 유지보수
- 월 1회 보안 패치 적용
- 분기별 의존성 업데이트
- 연 2회 성능 최적화

### 10.3 장애 대응
- Google Sheets API 장애: 로컬 캐싱 활용
- Vercel 장애: 백업 배포 환경 준비
- 데이터 손실: 정기 백업에서 복구

## 11. 향후 개선 사항

### Phase 2 (3개월 후)
- 이메일 알림 기능
- 대기자 명단 기능
- 출석 체크 기능
- 수료증 발급 기능

### Phase 3 (6개월 후)
- 다중 교육 과정 지원
- 사용자 계정 시스템
- 교육 자료 다운로드
- 설문조사 기능

## 12. 리스크 및 대응 방안

### 12.1 기술적 리스크
| 리스크 | 영향도 | 대응 방안 |
|--------|--------|-----------|
| Google Sheets API 제한 | 높음 | 캐싱 전략 구현, Rate Limiting |
| 동시 접속 급증 | 중간 | Vercel 자동 스케일링 활용 |
| 데이터 정합성 문제 | 높음 | 트랜잭션 처리, 정기 검증 |

### 12.2 운영적 리스크
| 리스크 | 영향도 | 대응 방안 |
|--------|--------|-----------|
| 관리자 계정 유출 | 높음 | 주기적 비밀번호 변경 |
| 잘못된 데이터 입력 | 중간 | 관리자 검토 프로세스 |
| 시스템 장애 | 높음 | 백업 플랜, 수동 처리 방안 |

## 13. 승인 및 사인오프

### 검토자
- 프로덕트 오너: _______________
- 개발 리드: _______________
- QA 리드: _______________
- 운영팀: _______________

### 승인 일자: _______________

---

*이 문서는 MYSC 교육 신청 시스템의 요구사항을 정의합니다. 개발 진행 중 변경사항이 있을 경우 문서를 업데이트하여 최신 상태를 유지해야 합니다.*